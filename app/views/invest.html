<div ng-controller="InvestCtrl">
    <section id="amount" class="investSection first" ng-class="{'current': currentSection.id === 'amount'}">
        <p ng-cloak class="h3" dir="rtl">{{$root.welcomeInvest}}</p>
        <br>
        <p class="h3" dir="rtl">{{$root.appmessages.chooseAmount}}</p>
        <br>
        <div class="amountPicker">
            <input type="range" ng-model="amount" min="100" max="{{$root.totalCash}}" step="100" class="amountSlider">
            <br>
            <div class="input-group amountDisplay">
                <span class="input-group-addon">â‚ª</span>
                <input type="text" ng-model="amount" class="form-control">
                <span class="input-group-addon">.00</span>
            </div>
        </div>
        <a class="btn btn-primary btn-centered btn-lg" scroll-to-section data-vx-common-prevent-default=""
           ng-click="moveToNextSection(sections[0])">{{$root.appmessages.submitAmountSection}}</a>
    </section>

    <section ng-if="currentSection.id === 'fundCoin' || currentSection.position > 1" class="investSection" id="fundCoin"
             ng-class="{'current': currentSection.id === 'fundCoin'}">
        <p class="h3" dir="rtl">{{$root.appmessages.fundCoinSectionHeader}}</p>
        <a class="btn btn-primary btn-centered btn-lg" scroll-to-section data-vx-common-prevent-default=""
           ng-click="moveToNextSection(sections[1])">{{$root.appmessages.submitFundCoinSection}}</a>
    </section>

    <section ng-if="currentSection.id === 'fundGold' || currentSection.position > 2" class="investSection" id="fundGold"
             ng-class="{'current': currentSection.id === 'fundGold'}">
        <p class="h3" dir="rtl">{{$root.appmessages.fundGoldSectionHeader}}</p>
        <a class="btn btn-primary btn-centered btn-lg" scroll-to-section data-vx-common-prevent-default=""
           ng-click="moveToNextSection(sections[2])">{{$root.appmessages.submitFundGoldSection}}</a>
    </section>

    <section ng-if="currentSection.id === 'fundStock' || currentSection.position > 3" class="investSection" id="fundStock"
             ng-class="{'current': currentSection.id === 'fundStock'}">
        <p class="h3" dir="rtl">{{$root.appmessages.fundStockSectionHeader}}</p>
        <a class="btn btn-primary btn-centered btn-lg" scroll-to-section data-vx-common-prevent-default=""
           ng-click="moveToNextSection(sections[3])">{{$root.appmessages.submitFundStockSection}}</a>
    </section>

    <section ng-if="currentSection.id === 'fundDebenture' || currentSection.position > 4" class="investSection" id="fundDebenture"
             ng-class="{'current': currentSection.id === 'fundDebenture'}">
        <p class="h3" dir="rtl">{{$root.appmessages.fundDebentureSectionHeader}}</p>
        <a class="btn btn-primary btn-centered btn-lg" scroll-to-section data-vx-common-prevent-default=""
           ng-click="moveToNextSection(sections[4])">{{$root.appmessages.submitFundDebentureSection}}</a>
    </section>

    <section ng-if="currentSection.id === 'summary' || currentSection.position > 5" class="investSection current" id="summary">
        <p class="h3" dir="rtl">{{$root.appmessages.summarySectionHeader}}</p>
        <p class="h3" dir="rtl">{{$root.appmessages.summarySectionHeader2}}</p>

        <ul class="row selectedFundsContainer">
            <li ng-repeat="fund in selectedFunds" class="selectedFundBox col-xs-12 col-sm-12" ng-cloak>
                <div>
                    <p class="h2" dir="rtl">{{amount / 4}} {{$root.appmessages.nis}}</p>
                    <p class="h2" dir="rtl">{{fund.name}}</p>
                    <p class="h3" dir="rtl">{{$root.appmessages.summarySectionMgmtFeeTitle}} {{'%.2f'.format(fund.mgmtFee / 1000 * amount)}} {{$root.appmessages.nis}}</p>
                    <p class="h3" dir="rtl">{{$root.appmessages.summarySectionCommissionTitle}} {{'%.2f'.format(fund.commission / 1000 * amount)}} {{$root.appmessages.nis}}</p>
                </div>
            </li>
        </ul>

        <div class="totalFees">
            <p class="h3" dir="rtl">{{$root.appmessages.summarySectionTotalMgmtFee}} {{getTotalFees(); '%.2f'.format(totalMgmtFee)}} {{$root.appmessages.nis}}</p>
            <p class="h3" dir="rtl">{{$root.appmessages.summarySectionTotalCommission}} {{'%.2f'.format(totalCommission)}} {{$root.appmessages.nis}}</p>
            <p class="h3" dir="rtl">{{$root.appmessages.summarySectionPastYieldTitle}} 4.2%</p>
        </div>

        <a class="btn btn-primary btn-centered btn-lg lastBtn" scroll-to-section data-vx-common-prevent-default=""
           ng-click="moveToNextSection(sections[5]); submit(); itemSelected(toolbarItems[1])" ng-href="/#/{{toolbarItems[1].id}}">{{$root.appmessages.submitSummary}}</a>
    </section>
</div>
